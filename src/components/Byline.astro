---
import FormattedDate from "@components/FormattedDate.astro"
import type { Person } from "@utilities/people"
import { getPersonPath, people } from "@utilities/people"
interface Props {
  authorFullName: string
  pubDate: Date
  updatedDate: Date
}
const { authorFullName = "", pubDate, updatedDate } = Astro.props
const person: Person = people.find((person) => {
  return person.name === authorFullName
})
const hasAuthorLink: boolean = typeof person === "object"
---
<p>
  {authorFullName &&
    <span>{ hasAuthorLink && <a href={getPersonPath(Astro.currentLocale, person.id)}>{person.name}</a> }</span>
    <span>{ !hasAuthorLink && <span>{authorFullName}</span> }</span>
    <span>, </span>
  }
  <FormattedDate date={pubDate} />
    {updatedDate && (
        <span >
          Last updated on <FormattedDate date={updatedDate} />
        </span>
      )
    }
</p>